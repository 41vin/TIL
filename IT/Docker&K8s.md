|용어|뜻|
|---|---|
|컨테이너|앱이 구동되는 환경까지 감싸서 실행할 수 있도록 하는 격리 기술|
|컨테이너 런타임|컨테이너를 다루는 도구|
|도커|컨테이너를 다루는 도구 중에 가장 유명한 것|
|쿠버네티스|컨테이너 런타임을 통해 컨테이너를 오케스트레이션 하는 도구|
|오케스트레이션|여러 서버에 걸친 컨테이너 및 사용하는 환경 설정을 관리하는 행위|

Q. 쿠버네티스가 컨테이너를 다루는 도구라면 도커를 다루는 도구는 아니란 뜻인가? <br>
A. 쿠버네티스의 역할은 컨테이너를 분산 배치, 상태 관리 및 컨테이너의 구동 환경까지 관리해주는 도구이고, 도커는 컨테이너를 다루는 도구(컨테이너 런타임) 중 하나임. 쿠버네티스는 컨테이너를 다루기 위해 도커 이외에도 다양한 컨테이너 런타임 소프트웨어를 사용할 수 있음.
<br><br>
<애플리케이션 배포 환경의 변화>

![trajectory](https://user-images.githubusercontent.com/54675591/126576855-1d6aa5c0-61fe-4ba5-9f36-a370588a3433.png)

### Traiditional Deployment

가상화 이전, 물리적인 컴퓨터 한 대에 하나의 OS를 깔고 어려 가지 프로그램을 설치하는 방식임. 가장 오래되고 단숞나 방식이며 단일 목적 시스템이라면 무리가 없을 구조임.

한 대의 컴퓨터에서 모든 것을 처리하려고 하면 어떤 프로그램 동작이 다른 프로그램의 동작을 간섭하거나, 특정 프로그램이 성능을 독점할 경우 또 다른 프로그램의 성능이 떨어지는 단점이 있음.
성능이 떨어지는 정도에 그치지 않고 프로그램의 중단까지도 유발할 수 있음. 이 문제를 해결하기 위해선 컴퓨터를 여러대를 사는 방법도 있지만 비용이 너무 많이 듦.

이러한 문제를 해결하기 위해 Virtualized Deployment가 등장함.

### Virtualized Deployment

가상머신을 기반으로 배포를 하는 방법임. 중간에 위치한 하이퍼바이저는 하나의 시스템 상에서 가상 컴퓨터를 여러 개 구동할 수 있도록 해주는 중간 계층을 의미함.
그리고 App은 실행하고자 하는 프로그램, Bin/Library는 프로그램이 실행하는데 필요한 환경과 관련된 파일이라고 생각하면 됨.

서버와 같이 다중화와 분산 처리가 중요한 시스템이라면 시스템 자원 상태에 따라 가상머신 개수를 늘리고 줄이는 것도 좀 더 유연하게 처리할 수 있음.
다만 이 방식이 전통적 배포 방식보다는 분명 효율적이지만, 가상머신은 완전한 컴퓨터이고 가상머신에 일일이 운영체제를 설치해야하기 때문에 Container Deployment보다는 무거운 편임.

### Container Deployment

하이퍼바이저라는 부분이 Container Runtime으로 대체되었고, Virtual Machine이라고 된 부분은 Container로 대체가 되었음. **컨테이너는 가상머신과 달리 프로그램 구동을 위해서 OS를 매번 설치할 필요가 없음.** 그림에서 보는 것과 같이 OS는 하나만 사용함.

앞에서 게임과 인터넷 뱅킹 프로그램이 한 컴퓨터에 설치된다면, 서로 간섭을 일으켜 성능 저하나 오류를 발생시킬 수 있다고 말했음. 
게임과 인터넷 뱅킹 소프트웨어가 각각 컨테이너로 배포된다고 가정해보겠음.

컨테이너 중심의 배포는 게임과 인터넷 뱅킹이 각각 실행되면서 '이 컴퓨터에서 나만 구동되고 있다'라고 판단할 수 있도록,
실제로 간섭을 일으킬 수 없는 장벽을 침. 이러한 장벽을 치는 것과 동시에 OS는 게임과 인터넷 뱅킹이 사용할 수 있는 CPU, 메모리 등의 자원 또한 독립적으로 사용할 수 있도록 할당하고 관리함.
이러한 과정을 통해 게임과 인터넷 프로그램은 스스로를 '서로 다른 컴퓨터에서 깔려 있다'고 생각하게 됨. 물론 OS의 관점에서 보자면 둘 다 OS 상에서 구동되는 프로그램임. 이와 같은 컨테이너 동작 방식을 OS 커널을 공유하는 가상화라고 함.

| |전통적인 배포| 가상머신 기반 배포| 컨테이너 기반 배포|
|---|----|----|-----|
|컴퓨터|물리적인 컴퓨터 1대|물리적인 컴퓨터 1대에 다수의 가상머신 존재|컴퓨터 형태에 영항 받지 않음|
|OS|물리적인 컴퓨터 1대에 OS 1개가 설치됨|물리적인 컴퓨터 OS 1대 + 다수의 가상머신에 각각 OS 설치|컴퓨터 형태와 관련 없이 설치된 OS 1개|
|리소스|컴퓨터 1대의 자원을 여러 프로그램이 나눠 씀|하이퍼바이저를 통해 가상머신 별 개별적 자원 할당|OS에서 프로그램별로 자원을 할당하고 관리함|
|격리 수준|격리되지 않아 프로그램 간 간섭 발생|각 가상머신이 완전하게 격리됨|프로그램 실행 환경은 격리되지만 OS 환경은 공유됨|
|문제 전이 가능성|특정 프로그램의 문제가 시스템 전체의 중단을 가져올 수 있음|특정 가상머신의 문제가 다른 가상머신의 문제로 전이될 가능성이 낮음|특정 프로그램의 문제가 다른 프로그램에 간섭을 일으키지는 않지만, 특정 프로그램의 문제가 OS 문제를 유발할 경우 시스템 중단 가능성이 있음|
